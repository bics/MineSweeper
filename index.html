<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Minesweeper</title>

    <link rel="icon" href="assets/images/mine.png" sizes="16x16" type="image/x-icon">

    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.6/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-4Q6Gf2aSP4eDXB8Miphtr37CMZZQ5oXLH2yaXMJ2w8e2ZtHTl7GptT4jmndRuHDT" crossorigin="anonymous">
    <link rel="stylesheet" href="assets/styles/style.css">
</head>

<body class="d-flex flex-column justify-content-center align-items-center">
    <header>
        <div class="text-center content-container divider">
            <h1 class=" text-decoration-underline color-silver">Minesweeper</h1>
        </div>
    </header>
    <main>
        <div class="carousel slide content-container" data-bs-interval="false" id="main-carousel">
            <div class="carousel-inner">

                <div class="carousel-item active">
                    <div class="text-center content-container divider">
                        <div class="row d-flex justify-content-center divider">
                            <div class="d-flex col-12 col-md-2 text-nowrap justify-content-center">
                                <div class="position-relative">
                                    <h2 class="color-silver px-4">About</h2>
                                    <button
                                        class="btn w3tooltip color-silver position-absolute top-50 end-0 translate-middle-y"
                                        data-bs-toggle="modal" data-bs-target="#aboutModal">?<span
                                            class="tooltiptext">About</span></button>
                                </div>
                            </div>
                            <div class="d-flex color-silver col-12 col-md-2 text-nowrap justify-content-center">
                                <div class="position-relative">
                                    <h2 class="color-silver px-4">Let's play</h2>
                                    <button
                                        class="btn w3tooltip color-silver position-absolute top-50 end-0 translate-middle-y"
                                        data-bs-toggle="modal" data-bs-target="#howToModal">?<span
                                            class="tooltiptext">Help</span></button>
                                </div>
                            </div>
                        </div>
                        <div class="rounded-4 shadow" id="game-setup">
                            <div>
                                <section class="divider" id="grid-section">
                                    <h4>Grid Size</h4>
                                    <hr class="divider">
                                    <div class="row d-flex justify-content-center">
                                        <div class="col-12 col-lg-2 text-nowrap">
                                            <input class="form-check-input" type="radio" name="grid-selector"
                                                id="grid-small" value="10*10" checked>
                                            <label for="grid-small">Small: 10*10</label>
                                        </div>
                                        <div class="col-12 col-lg-2 text-nowrap">
                                            <input class="form-check-input" type="radio" name="grid-selector"
                                                id="grid-medium" value="15*15">
                                            <label for="grid-medium">Medium: 15*15</label>
                                        </div>
                                        <div class="col-12 col-lg-2 text-nowrap">
                                            <input class="form-check-input" type="radio" name="grid-selector"
                                                id="grid-large" value="25*25">
                                            <label for="grid-large">Large: 25*25</label>
                                        </div>
                                        <div class="col-12 col-lg-2 text-nowrap">
                                            <input class="form-check-input" type="radio" name="grid-selector"
                                                id="grid-xlarge" value="40*40">
                                            <label for="grid-xlarge">XLarge: 40*40</label>
                                        </div>
                                    </div>
                                </section>
                                <section class="divider" id="mine-section">
                                    <h4>Mine count</h4>
                                    <hr class="divider">
                                    <div class="row d-flex justify-content-center">
                                        <div class="col-12 col-lg-2 text-nowrap">
                                            <input class="form-check-input" type="radio" name="mine-count-selector"
                                                id="easy" value="0.1" checked>
                                            <label for="easy">Easy</label>
                                        </div>
                                        <div class="col-12 col-lg-2 text-nowrap">
                                            <input class="form-check-input" type="radio" name="mine-count-selector"
                                                id="normal" value="0.15">
                                            <label for="normal">Normal</label>
                                        </div>
                                        <div class="col-12 col-lg-2 text-nowrap">
                                            <input class="form-check-input" type="radio" name="mine-count-selector"
                                                id="hard" value="0.20">
                                            <label for="hard">Hard</label>
                                        </div>
                                        <div class="col-12 col-lg-2 text-nowrap">
                                            <input class="form-check-input" type="radio" name="mine-count-selector"
                                                id="extreme" value="0.25">
                                            <label for="extreme">Extreme</label>
                                        </div>
                                    </div>
                                </section>
                            </div>
                            <button class="btn btn-secondary divider" data-bs-slide="next"
                                data-bs-target="#main-carousel" id="playButton">Play</button><br>
                        </div>
                    </div>
                </div>

                <div class="carousel-item">
                    <div class="game-content-container divider d-flex justify-content-center" id="game-area-container">
                        <div id="game-area">
                            <div class="row d-flex justify-content-center" id="game-header">
                                <p class="col-3 text-center pointer w3tooltip" id="remaining">Remaining <span
                                        class="tooltiptext">tooltiptext</span></p>
                                <p class="col-3 text-center"><button id="reset-button" class="btn"></button></p>
                                <p class="col-3 text-center"><button class="btn help-button w3tooltip"
                                        data-bs-toggle="modal" data-bs-target="#howToModal">?<span
                                            class="tooltiptext">Help</span></button><br></p>
                            </div>
                            <div class="d-flex justify-content-center divider border border-secondary border-3"
                                id="game-main">
                            </div>
                            <div class="d-flex justify-content-center gap-2 divider" id="game-footer">
                                <label for="flagbox">Flag</label>
                                <input class="form-check-input flag-checkbox" type="checkbox" name="flagbox"
                                    id="flagbox">
                            </div>
                            <div class="d-flex justify-content-center">
                                <button class="btn btn-secondary justify-content-center" data-bs-slide="prev"
                                    data-bs-target="#main-carousel" id="re-select-button">Reselect</button>
                            </div>
                            <br>
                        </div>
                    </div>
                </div>

            </div>
        </div>


    </main>

    <!-- Modal for how to
        Code snippets taken from official Bootstrap docs
    -->
    <div class="modal fade" id="howToModal" tabindex="-1" role="dialog" aria-hidden="true">
        <div class="modal-dialog" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <h2 class="modal-title color-silver">How to play</h2>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>

                <!-- Rules semi-generated and formatted using ChatGPT-->
                <div class="modal-body text-center content-container divider">
                    <div class="text-container">
                        <h3>Choose Your Game Style</h3>
                        <p>Select the grid size you'd like to challenge yourself with.</p>
                        <p>Select the difficulty level. Each level increases the number of mines by 5%, starting at 10%
                            on Easy.</p>

                        <h3>User Interface</h3>
                        <p>At the top of the field, you will see:</p>
                        <ul>
                            <li>The remaining number of mines (mines will disappear from the count after being flagged).
                            </li>
                            <li>A face emoji to reset the field or restart the game using the current difficulty.</li>
                            <li>A help button in case you need a reminder.</li>
                        </ul>

                        <p>At the bottom of the field:</p>
                        <ul>
                            <li>You can enable flagging. To remove flags, this must be toggled on again.</li>
                            <li>A button to reselect the game's difficulty.</li>
                        </ul>

                        <h3>The Goal</h3>
                        <p>Reveal all non-mine tiles without clicking on a mine.
                            Use numbers as clues: each number indicates how many mines are adjacent to that tile.
                            You can right-click (or use flag mode) to mark suspected mines. Marking all mines is not
                            required to win —
                            but
                            revealing all safe tiles is!</p>

                        <h3>How to Play</h3>
                        <p>The game board is a grid of covered tiles.</p>
                        <p>Click any tile to begin.</p>
                        <p>A number on a tile tells you how many mines are in the surrounding eight tiles, including
                            diagonals.
                            For example, a tile showing "3" means there are exactly three mines nearby.</p>
                        <p>You can mark tiles you believe contain a mine by placing a flag.
                            This helps prevent accidental clicks.
                            Flagging is optional. You win by clearing all non-mine tiles, not by flagging all mines.</p>
                        <p>If you click on a revealed number tile and the correct number of adjacent flags are placed
                            around it, the
                            game will
                            automatically reveal all neighboring tiles that are not flagged.
                            This feature helps speed up gameplay but requires that flags are used correctly.
                            If incorrect flags are placed, a hint click may reveal a mine and end the game.</p>
                        <p>Use logic to deduce which tiles are safe.
                            Reveal all the safe tiles to win.
                            Clicking a mine ends the game.</p>

                        <h4>Tips for Success</h4>
                        <p>
                            Corners and edges are usually a good place to start.
                            A blank tile with no number means there are no mines nearby and often reveals a large area.
                            Use process of elimination to identify safe tiles.
                            Avoid random guessing whenever possible — one wrong click can end the game.
                            Keep track of the remaining number of mines to assist your decisions.
                            Use flags to mark obvious mine locations, especially near higher-numbered tiles.
                        </p>
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Modal for about -->
    <div class="modal fade" id="aboutModal" tabindex="-1" role="dialog" aria-hidden="true">
        <div class="modal-dialog" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <h2 class="modal-title color-silver">About</h2>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>

                <div class="modal-body text-center content-container divider">
                    <div class="text-container">
                        <p>Minesweeper is a logic puzzle video game genre generally played on personal computers. The
                            game
                            features a
                            grid
                            of clickable tiles, with hidden "mines"
                            (depicted as naval mines in the original game) dispersed throughout the board. The objective
                            is
                            to
                            clear the
                            board without detonating any mines,
                            with help from clues about the number of neighboring mines in each field. </p>
                        <p>Variants of Minesweeper have been made that expand on the basic concepts, such as Minesweeper
                            X,
                            Crossmines,
                            and
                            Minehunt. Minesweeper has been incorporated as a minigame
                            in other games, such as RuneScape and Minecraft's 2015 April Fools update. </p>
                        <p>The origin of Minesweeper is unclear. According to TechRadar, the first version of the game
                            was
                            1990's
                            Microsoft
                            Minesweeper,
                            but Eurogamer states Mined-Out (1983) by Ian Andrew was the first Minesweeper game. Curt
                            Johnson,
                            the
                            creator of
                            Microsoft Minesweeper,
                            acknowledges that his game's design was borrowed from another game, but denies that it was
                            Mined-Out.
                            <a class="link-info" href="https://en.wikipedia.org/wiki/Minesweeper_(video_game)"
                                target="_blank">Wikipedia
                                article</a>
                        </p>
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Toast (alert) for endgame message 
        Code snippets taken from official Bootstrap docs
    -->
    <div class="toast-container position-fixed top-50 start-50 translate-middle">
        <div class="toast shadow" id="endGame-toast">
            <div class="d-flex justify-content-center position-relative">
                <div class="toast-body text-center" id="endGame-toast-body">

                </div>
                <button type="button" class="btn-close position-absolute top-50 end-0 translate-middle-y"
                    data-bs-dismiss="toast" aria-label="Close"></button>
            </div>
        </div>
    </div>

    <!-- Footer 
        Code block taken and modified from previous BestBarber project 
    -->
    <footer class="fixed-bottom nav justify-content-evenly border-top">
        <a href="https://www.facebook.com/" target="_blank" aria-label="Facebook homepage"><i
                class="fa-brands fa-facebook color-silver"></i></a>
        <a href="https://www.x.com/" target="_blank" aria-label="X homepage"><i
                class="fa-solid fa-x color-silver"></i></a>
        <a href="https://www.google.com/" target="_blank" aria-label="Google homepage"><i
                class="fa-brands fa-google color-silver"></i></a>
        <a href="https://github.com/bics/" target="_blank" aria-label="Github homepage"><i
                class="fa-brands fa-github color-silver"></i></a>
    </footer>
    <script src="https://kit.fontawesome.com/3b20d96fa9.js" crossorigin="anonymous"></script>

    <script type="text/javascript" src="assets/scripts/uiscripts.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.6/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-j1CDi7MgGQ12Z7Qab0qlWQ/Qqz24Gc6BM0thvEMVjHnfYGF0rmFCozFSxQBxwHKO"
        crossorigin="anonymous"></script>
    <script type="module" src="assets/scripts/gamemanager.js"></script>
</body>

</html>